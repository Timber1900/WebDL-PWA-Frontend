(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{82:function(n,e,t){"use strict";t.r(e);var r,a,o,i,c,l,s,d,b,u,p,h,x,f,j,v,g,w,m,O,y,k,F,S,T,z,D=t(1),E=t.n(D),A=t(36),C=t.n(A),I=t(7),q=t(4),L=t.n(q),P=t(12),R=t(8),B=t(2),M=t(3),J=M.b.div(r||(r=Object(B.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 90vw;\n  align-items: center;\n  justify-content: space-between;\n  min-height: 50px;\n  padding: 10px 5vw 0 5vw;\n"]))),V=(M.b.div(a||(a=Object(B.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 90vw;\n  align-items: center;\n  justify-content: space-between;\n"]))),M.b.input(o||(o=Object(B.a)(["\n  margin: 0.5vh 0.5vw;\n  flex: 1;\n  border: 2px solid var(--almost-black);\n  background-color: var(--black);\n  color: var(--white);\n  border-radius: 5px;\n  height: 1.5rem;\n"])))),W=M.b.button(i||(i=Object(B.a)(["\n  margin: 0.5vh 0.5vw;\n  height: 1.5rem;\n"]))),H=t(6),N=M.b.div(c||(c=Object(B.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n  width: 90vw;\n  height: calc(100vh - (110px + 4vh));\n  padding: 2vh 5vw;\n  z-index: 10;\n\n  @media only screen and (max-width: 660px) {\n    flex-direction: column;\n  }\n"]))),_=M.b.div(l||(l=Object(B.a)(["\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  width: 58vw;\n  margin: 1vh 1vw 1vh 0;\n  border-radius: 5px;\n  border: 2px solid var(--almost-black);\n  overflow-y: scroll;\n\n  @media only screen and (max-width: 660px) {\n    margin: 1vh 1vw;\n    height: 100%;\n    width: 88vw;\n  }\n\n  &::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    border-radius: 10px;\n    background-color: var(--black);\n  }\n\n  &::-webkit-scrollbar {\n    background-color: #181a1b;\n    width: 8px;\n    margin: 0 auto;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    background-color: #555;\n  }\n"]))),U=M.b.div(s||(s=Object(B.a)(["\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  width: 28vw;\n  padding: 1vh 1vw 1vh 1vw;\n\n  @media only screen and (max-width: 660px) {\n    width: 88vw;\n    height: fit-content;\n  }\n\n  > button {\n    height: 8vh;\n    min-height: 40px;\n\n    &:disabled {\n      background-color: var(--almost-black);\n    }\n  }\n"]))),Y=M.b.div(d||(d=Object(B.a)(["\n  padding: 1vh 0;\n"]))),Q=M.b.label(b||(b=Object(B.a)(["\n  display: block;\n"]))),G=M.b.span(u||(u=Object(B.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  width: max(28vw, 90px);\n"]))),K=M.b.div(p||(p=Object(B.a)(["\n  display: block;\n  position: absolute;\n  background-color: var(--black);\n  min-width: 160px;\n  z-index: 2;\n  right: 0;\n  top: 35px;\n  border-radius: 10px;\n  border: var(--almost-black) solid 2px;\n  overflow: visible;\n  visibility: hidden;\n\n  > label {\n    padding: 5px 10px;\n    text-align: center;\n    display: block;\n  }\n\n  > label:hover {\n    background-color: var(--almost-black);\n  }\n"]))),X=M.b.span(h||(h=Object(B.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  width: 24px;\n  visibility: hidden;\n\n  &:hover "," {\n    visibility: visible;\n  }\n"])),K),Z=M.b.span(x||(x=Object(B.a)(["\n  position: relative;\n"]))),$=M.b.div(f||(f=Object(B.a)(["\n  display: flex;\n  border-radius: 2px;\n  width: 100%;\n  height: 80px;\n  min-height: 50px;\n  align-items: center;\n  justify-content: flex-start;\n  border-bottom: 1px solid var(--almost-black);\n  overflow: hidden;\n  white-space: nowrap;\n  background-color: ",";\n\n  &:hover "," {\n    visibility: visible;\n  }\n\n  &:hover {\n    background-color: var(--dark-grey);\n  }\n\n  &:active {\n    background-color: var(--regular-grey);\n  }\n"])),(function(n){return n.show?"var(--almost-black)":"var(--black)"}),X),nn=M.b.span(j||(j=Object(B.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n"]))),en=M.b.img(v||(v=Object(B.a)(["\n  width: 115px;\n  height: 64px;\n  border-radius: 2px;\n"]))),tn=M.b.span(g||(g=Object(B.a)(["\n  line-height: 20px;\n  font-family: Roboto;\n  font-size: 16px;\n  color: var(--white);\n  flex-grow: 1;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n\n  &:focus {\n    text-overflow: initial;\n  }\n"]))),rn=M.b.hr(w||(w=Object(B.a)(["\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: 1px solid var(--dark-grey);\n  margin: 0.05em 0;\n  padding: 0;\n"]))),an=(M.b.span(m||(m=Object(B.a)(["\n  height: 50px;\n  width: 24px;\n"]))),M.b.div(O||(O=Object(B.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 27px;\n  margin: 2px;\n  line-height: 26px;\n\n  > label {\n    padding: 5px 10px;\n    text-align: center;\n    display: block;\n  }\n"])))),on=t(0),cn=function(){return Object(on.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(on.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(on.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",fill:"#e8e6e3"})]})},ln=function(n){var e=Object(D.useRef)(null),t=Object(D.useState)(n.Title),r=Object(H.a)(t,2)[1],a=Object(D.useState)(!0),o=Object(H.a)(a,1)[0],i=Object(D.useState)("mkv"),c=Object(H.a)(i,2),l=c[0],s=c[1];return Object(D.useEffect)((function(){y=r}),[]),Object(on.jsx)(Z,{children:Object(on.jsxs)($,{show:o,children:[Object(on.jsx)(nn,{children:Object(on.jsx)(en,{src:n.Thumbnail})}),Object(on.jsx)(tn,{ref:e,onBlur:function(){e.current.scrollLeft=0},children:n.Title}),Object(on.jsxs)(X,{children:[Object(on.jsx)(cn,{}),Object(on.jsxs)(K,{children:[Object(on.jsx)("label",{onClick:function(){return function(n){n.setAttribute("contenteditable",!0),n.focus();var e=n;document.addEventListener("keydown",(function n(t){t.target===e&&"Enter"===t.key&&(e.innerHTML.replace(/\n/g,""),e.setAttribute("contenteditable",!1),document.removeEventListener("keydown",n),y(e.innerHTML))})),n.addEventListener("focusout",(function n(){e.setAttribute("contenteditable",!1),e.removeEventListener("focusout",n),y(e.innerHTML)}))}(e.current)},children:"Rename video"}),Object(on.jsx)("label",{children:"Download video"}),Object(on.jsx)(rn,{}),Object(on.jsxs)(an,{children:[Object(on.jsx)("label",{children:"Filetype:"}),Object(on.jsxs)("select",{defaultValue:l,onChange:function(n){return s(n.target.value)},children:[Object(on.jsxs)("optgroup",{label:"Video",children:[Object(on.jsx)("option",{value:-3,children:"mkv"}),Object(on.jsx)("option",{value:-2,children:"mp4"}),Object(on.jsx)("option",{value:-1,disabled:!0,children:"webm"})]}),Object(on.jsxs)("optgroup",{label:"Audio",children:[Object(on.jsx)("option",{value:1,disabled:!0,children:"mp3"}),Object(on.jsx)("option",{value:2,children:"m4a"})]})]})]})]})]})]})})},sn=t(20),dn=t.n(sn),bn=t(10),un=t.n(bn),pn=t(14),hn="https://api.web-dl.live/audio",xn=function(){var n=Object(D.useState)([]),e=Object(H.a)(n,2),t=e[0],r=e[1],a=Object(D.useState)("-3"),o=Object(H.a)(a,2),i=o[0],c=o[1];Object(D.useEffect)((function(){i}),[i]),Object(D.useEffect)((function(){k=t}),[t]),Object(D.useEffect)((function(){F=function(n){window.localStorage.setItem("queue",JSON.stringify(n)),r(n)}}),[]);var l=function(){var n=Object(R.a)(L.a.mark((function n(){var e,a,o;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=Object(P.a)(t),a=L.a.mark((function n(a){var o;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(n,e){var o=this,i=t[a],c=[];c.push(un.a.post("https://api.web-dl.live/video",{url:i.Info.webpage_url},{onDownloadProgress:function(n){console.log("%c ".concat(n.loaded," bits of data loaded"),"color: #4488FF")},responseType:"blob"})),c.push(un.a.post(hn,{url:i.Info.webpage_url},{onDownloadProgress:function(n){console.log("%c ".concat(n.loaded," bits of data loaded"),"color: #4488FF")},responseType:"blob"})),Promise.all(c).then(function(){var n=Object(R.a)(L.a.mark((function n(e){var t,r,a,o,c,l,s,d;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.sort((function(n,e){return n.data.size-e.data.size})),r=Object(H.a)(t,2),a=r[0],o=r[1],c=Object(pn.createFFmpeg)({progress:console.log}),n.next=4,c.load();case 4:return n.t0=c,n.next=7,Object(pn.fetchFile)(a.data);case 7:return n.t1=n.sent,n.t0.FS.call(n.t0,"writeFile","audio.m4a",n.t1),n.t2=c,n.next=12,Object(pn.fetchFile)(o.data);case 12:return n.t3=n.sent,n.t2.FS.call(n.t2,"writeFile","video.mkv",n.t3),n.next=16,c.run("-i","audio.m4a","-i","video.mkv","-map","0:a","-map","1:v","-c:v","copy","out.mkv");case 16:l=c.FS("readFile","out.mkv"),s=dn.a.createWriteStream("".concat(i.Title,".mkv"),{size:a.data.size+o.data.size,writableStrategy:void 0,readableStrategy:void 0}),(d=s.getWriter()).write(l),d.close();case 21:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch(e).finally((function(){r(o.filter((function(n,e){return n!==i}))),n("Done")}))},n.next=3,new Promise(o.bind(e));case 3:case"end":return n.stop()}}),n)})),o=0;case 3:if(!(o<t.length)){n.next=8;break}return n.delegateYield(a(o),"t0",5);case 5:o++,n.next=3;break;case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=Object(R.a)(L.a.mark((function n(){var e,a,o,i;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=Object(P.a)(t),a=Object(I.a)(t),n.prev=2,i=L.a.mark((function n(){var t,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=o.value,a=function(){var n=Object(R.a)(L.a.mark((function n(e,a){var o,i,c,l,s;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,un.a.post(hn,{url:t.Info.webpage_url},{onDownloadProgress:function(n){console.log("%c ".concat(n.loaded," bits of data loaded"),"color: #4488FF")},responseType:"blob"});case 2:return o=n.sent,n.next=5,o.data.arrayBuffer();case 5:i=n.sent,c=new Uint8Array(i),l=dn.a.createWriteStream("".concat(t.Title,".m4a"),{size:o.data.size,writableStrategy:void 0,readableStrategy:void 0}),(s=l.getWriter()).write(c),s.close(),r(this.filter((function(n,e){return n!==t}))),e("Done");case 13:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),n.next=4,new Promise(a.bind(e));case 4:case"end":return n.stop()}}),n)})),a.s();case 5:if((o=a.n()).done){n.next=9;break}return n.delegateYield(i(),"t0",7);case 7:n.next=5;break;case 9:n.next=14;break;case 11:n.prev=11,n.t1=n.catch(2),a.e(n.t1);case 14:return n.prev=14,a.f(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[2,11,14,17]])})));return function(){return n.apply(this,arguments)}}();return Object(on.jsxs)(N,{children:[Object(on.jsx)(_,{children:t.map((function(n,e){return Object(on.jsx)(ln,{Format:n.Format,Info:n.Info,Thumbnail:n.Thumbnail,Title:n.Title},e)}))}),Object(on.jsxs)(U,{children:[Object(on.jsx)("button",{onClick:l,children:"Download Video"}),Object(on.jsx)("button",{onClick:s,children:"Download Audio"}),Object(on.jsx)("button",{onClick:function(){F([])},children:"Clear Queue"}),Object(on.jsx)(Y,{children:Object(on.jsxs)(G,{children:[Object(on.jsx)(Q,{children:"Filetype:"}),Object(on.jsxs)("select",{defaultValue:i,onChange:function(n){return c(n.target.value)},children:[Object(on.jsxs)("optgroup",{label:"Video",children:[Object(on.jsx)("option",{value:-3,children:"mkv"}),Object(on.jsx)("option",{value:-2,children:"mp4"}),Object(on.jsx)("option",{value:-1,disabled:!0,children:"webm"})]}),Object(on.jsxs)("optgroup",{label:"Audio",children:[Object(on.jsx)("option",{value:1,disabled:!0,children:"mp3"}),Object(on.jsx)("option",{value:2,children:"m4a"})]})]})]})})]})]})},fn=function(){var n,e=function(){var e=Object(R.a)(L.a.mark((function e(){var t,r,a,o,i,c,l,s,d,b,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un.a.post("https://api.web-dl.live/info",{url:n.value},{onDownloadProgress:function(n){console.log("%c ".concat(n.loaded," bits of data loaded"),"color: #4488FF")},responseType:"json"});case 2:t=e.sent,console.log(t),r=Object(P.a)(k),a=t.data,o=Object(I.a)(a);try{for(o.s();!(i=o.n()).done;){c=i.value,l={quality:-1},s=Object(I.a)(c.formats);try{for(s.s();!(d=s.n()).done;)(b=d.value).quality>l.quality&&(l=b)}catch(p){s.e(p)}finally{s.f()}console.log(c),u={Info:c,Thumbnail:c.thumbnail,Title:c.title,Format:l},r.push(u)}}catch(p){o.e(p)}finally{o.f()}F(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(on.jsxs)(J,{children:[Object(on.jsx)(V,{type:"text",ref:function(e){e&&(n=e)}}),Object(on.jsx)(W,{onClick:e,children:"Add to queue"})]})},jn=M.b.div(S||(S=Object(B.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  width: 90vw;\n  height: 50px;\n  padding: 0 5vw 0 5vw;\n"]))),vn=M.b.label(T||(T=Object(B.a)([""]))),gn=function(){var n=Object(D.useState)("Waiting for download"),e=Object(H.a)(n,2),t=e[0],r=e[1];return Object(D.useEffect)((function(){r}),[]),Object(D.useEffect)((function(){t}),[t]),Object(on.jsx)(jn,{children:Object(on.jsx)(vn,{children:t})})},wn=function(){return Object(on.jsxs)(on.Fragment,{children:[Object(on.jsx)(fn,{}),Object(on.jsx)(xn,{}),Object(on.jsx)(gn,{})]})},mn=Object(M.a)(z||(z=Object(B.a)(["\n* {\n    margin: 0;\n    padding: 0;\n    color: var(--white);\n    font-family: Roboto;\n  }\n\n  &::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    border-radius: 10px;\n    background-color: var(--black);\n  }\n\n  &::-webkit-scrollbar {\n    background-color: #181a1b;\n    width: 8px;\n    margin: 0 auto;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    background-color: #555;\n  }\n\n  button {\n    appearance: button;\n    text-rendering: auto;\n    color: var(--white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: var(--dark-grey);\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Roboto;\n    padding: 1px 6px;\n    border-radius: 2px;\n    margin: 2px;\n    border: none;\n  }\n\n  button:hover {\n    background-color: var(--regular-grey);\n  }\n\n  button:active {\n    background-color: var(--light-grey);\n  }\n\n  button:focus {\n    outline: none;\n  }\n\n  select {\n    appearance: button;\n    text-rendering: auto;\n    color: var(--white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: var(--dark-grey);\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Roboto;\n    padding: 1px 6px;\n    border-radius: 2px;\n    margin: 2px;\n    border: none;\n  }\n\n  select:hover {\n    background-color: var(--regular-grey);\n  }\n\n  select:active {\n    background-color: var(--light-grey);\n  }\n\n  select:focus {\n    outline: none;\n    background-color: var(--dark-grey);\n  }\n\n\n  html {\n    width: 100vw;\n    height: 100vh;\n  }\n\n  body {\n    background-color: var(--black);\n    overflow: hidden;\n    padding: 0;\n    margin: 0;\n    width: 100vw;\n    height: 100vh;\n  }\n\n  :root {\n    --white: #e8e6e3;\n    --almost-white: #CED4DA;\n    --light-grey: #ADB5BD;\n    --regular-grey: #6C757D;\n    --dark-grey: #495057;\n    --almost-black: #343A40;\n    --black: #212529;\n    --blue: #48cae4;\n  }\n"])));var On=function(){return Object(D.useEffect)((function(){var n=new URL(window.location.href).searchParams.get("text"),e=window.localStorage,t=JSON.parse(e.getItem("queue")||"[]");n&&fetch("https://api.web-dl.live/info",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n})}).then((function(n){return n.json()})).then((function(n){var e,r=n,a=Object(I.a)(r);try{for(a.s();!(e=a.n()).done;){var o,i=e.value.info,c={quality:-1},l=Object(I.a)(i.formats);try{for(l.s();!(o=l.n()).done;){var s=o.value;s.quality>c.quality&&(c=s)}}catch(b){l.e(b)}finally{l.f()}console.log(i);var d={Info:i,Thumbnail:i.thumbnail,Title:i.title,Format:c};t.push(d)}}catch(b){a.e(b)}finally{a.f()}})).finally((function(){F(t)})),F(t)}),[]),Object(on.jsxs)(on.Fragment,{children:[Object(on.jsx)(wn,{}),Object(on.jsx)(mn,{})]})};C.a.render(Object(on.jsx)(E.a.StrictMode,{children:Object(on.jsx)(On,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.0d22f632.chunk.js.map